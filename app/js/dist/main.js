var jsonModule=function(a,b){function c(a){var b=new XMLHttpRequest;b.overrideMimeType("application/json"),b.open("GET","https://api.myjson.com/bins/234w0",!0),b.onreadystatechange=function(){4==b.readyState&&"200"==b.status&&a(b.responseText)},b.send(null)}return{loadJSON:c}}(window,document),lightboxModule=function(a,b){function c(a){b.getElementById("whiteContent").innerHTML=a,b.getElementById("whiteContent").style.display="block",b.getElementById("blackOverlay").style.display="block",b.getElementById("closeLightbox").onclick=function(){lightboxModule.closeLightbox()}}function d(){b.getElementById("whiteContent").style.display="none",b.getElementById("blackOverlay").style.display="none"}function e(a){for(var c=a.length-1;c>=0;--c)b.getElementById(a[c].id).onclick=function(){var a=this.id,b="";b+='<div id="closeLightbox"></div>',jsonModule.loadJSON(function(c){var d=JSON.parse(c),e=d.products[a-1];b+='<img src="../static/images/'+e.zoomimage+'">',lightboxModule.callLightbox(b)})}}return{callLightbox:c,closeLightbox:d,bindLightbox:e}}(window,document),productModule=function(a,b){function c(a){var c;jsonModule.loadJSON(function(d){for(var e=JSON.parse(d),f=e.products.length-1;f>=0;--f){var g=b.createElement("li");g.id=e.products[f].id,g.className="prod",g.innerHTML='<img class="product-image" src="../static/images/'+e.products[f].image+'" data-src-hover="../static/images/'+e.products[f].hoverimage+'"><img class="product-image-hover" src="../static/images/'+e.products[f].hoverimage+'"><p class="product-title"><span>'+e.products[f].name+'</span></p><span class="product-stars"></span><p class="product-previous-price">De: R$'+e.products[f].previousprice+'</p><p class="product-price">Por: R$'+e.products[f].price+'</p><p class="product-price-times">ou <span>at√© '+e.products[f].times+"X</span> de <span>R$ "+e.products[f].subprice+'</span></p><a class="product-buy">Comprar</a><span class="product-save">Economize: R$ '+e.products[f].save+"</span>",b.getElementById("products-list").appendChild(g)}c=b.querySelectorAll(".prod"),"function"==typeof a&&a(c)})}return{createProd:c}}(window,document);document.addEventListener("DOMContentLoaded",function(){productModule.createProd(lightboxModule.bindLightbox)});