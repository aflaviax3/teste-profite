function loadJSON(a){var b=new XMLHttpRequest;b.overrideMimeType("application/json"),b.open("GET","https://api.myjson.com/bins/2a0hw",!0),b.onreadystatechange=function(){4==b.readyState&&"200"==b.status&&a(b.responseText)},b.send(null)}function callLightbox(a){console.log("callLightbox"),document.getElementById("white_content").innerHTML=a,document.getElementById("white_content").style.display="block",document.getElementById("black_overlay").style.display="block",document.getElementById("close_lightbox").onclick=function(){closeLightbox()}}function closeLightbox(){document.getElementById("white_content").style.display="none",document.getElementById("black_overlay").style.display="none"}function bindLightbox(a){console.log("bindLightbox");for(var b=a.length-1;b>=0;--b)document.getElementById(a[b].id).onclick=function(){var a=this.id,b="";b+='<div id="close_lightbox">X</div>',loadJSON(function(c){var d=JSON.parse(c),e=d.products[a];b+='<img src="images/'+e.zoomimage+'">',callLightbox(b)})}}function createProd(a){var b;loadJSON(function(c){var d=JSON.parse(c);for(var e in d.products){var f=document.createElement("li");f.id=d.products[e].id,f.className="prod",f.innerHTML='<img class="product-image" src="../static/images/'+d.products[e].image+'" data-src-hover="../static/images/'+d.products[e].hoverimage+'"><p class="product-title"><span>'+d.products[e].name+'</span></p><span class="product-stars"></span><p class="product-previous-price">De: R$'+d.products[e].previousprice+'</p><p class="product-price">Por: R$'+d.products[e].price+'</p><p class="product-price-times">ou <span>at√© '+d.products[e].times+"X</span> de <span>R$ "+d.products[e].subprice+'</span></p><a class="product-buy">Comprar</a><span class="product-save">Economize: R$ '+d.products[e].save+"</span>",document.getElementById("products-list").appendChild(f)}b=document.querySelectorAll(".prod"),"function"==typeof a&&a(b)})}document.addEventListener("DOMContentLoaded",function(){createProd(bindLightbox)});